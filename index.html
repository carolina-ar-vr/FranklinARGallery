<html>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <!-- we import arjs version without NFT but with marker + location based support -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173156222-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-173156222-1');

    AFRAME.registerComponent('registerevents', {
		init: function () {
			var marker = this.el;

			// Make the element emit events when found and when lost.
			marker.setAttribute('emitevents', 'true');

			marker.addEventListener('markerFound', function() {
				gtag('event', 'Marker Found', {
        });
			});

			marker.addEventListener('markerLost', function() {
				console.log('marker lost');
			});
		}
	});
  </script>

  <script>

    //new location markers can be added by copy and pasting the <a-image> entities
    //and filling in with appropriate lat, long, and business name

    let locationCode =  `
    <div class="buttons">
      <button class="my-button" onclick="toggleMode()">Interact With A Marker</button>
      <button class="my-button" onclick="redirect()">App Website</button>
    </div>

    <a-scene
    vr-mode-ui="enabled: false;" 
    embedded arjs='sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>

            <a-link 
            gps-entity-place="latitude: 35.911692; longitude: -79.059876;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Purple Bowl;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Purple Bowl; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.910505; longitude: -79.064427;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Rumors;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Rumors; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.910486; longitude: -79.062343;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Lantern;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Lantern; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.910257; longitude: -79.062963;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Franklin St Yoga;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Franklin St Yoga; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.912277; longitude: -79.057659;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Pizza Press;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Pizza Press; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.912277; longitude: -79.057659;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Pizza Press;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Pizza Press; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.913119; longitude: -79.056351;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Yogurt Pump;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Yogurt Pump; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.913436; longitude: -79.055319;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Epilogue;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Epilogue; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.913379; longitude: -79.054827;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Johnny T-Shirt;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Johnny T-Shirt; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.913416; longitude: -79.054707;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Cosmic Cantina;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Cosmic Cantina; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>

            <a-link 
            gps-entity-place="latitude: 35.914724; longitude: -79.053057;"
            scale="5.5 5.5 5.5" 
            gltf-model='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/master/assets/models/pin/scene.gltf'
            >
              <a-entity 
              text="
              color: #000000;
              align: center; 
              font: kelsonsans; 
              value: Imbibe;
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
              <a-entity 
              text="
              color: #ffffff; 
              align: center; 
              font: kelsonsans; 
              value: Imbibe; 
              width: 4" 
              position="0 .6 0" 
              visible="" 
              scale=".7 .7 .7">
              </a-entity>
            </a-link>


            
        <a-camera gps-camera rotation-reader> </a-camera>
    </a-scene>
    `;

    //the following string should be the same as the default <body> content on page load.

    let markerCode =  `
    <div class="buttons">
      <button class="my-button" onclick="toggleMode()">Find More Markers</button>
      <button class="my-button" onclick="redirect()">App Website</button>
    </div>

      <a-scene
      embedded arjs='patternRatio: 0.7;'
      renderer="logarithmicDepthBuffer: true;"
      gesture-detector
      id="scene"
      vr-mode-ui="enabled: false;" 
      embedded arjs='sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>

        <!-- Carolina Coffee Shop -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-01_Carolina_Coffeeshop.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Carolina Coffee Shop 1983.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Carolina Theatre -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-02_Carolina_Theatre.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Carolina Theatre.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Crook's Corner -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-03_Crooks_Corner.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Crooks corner as a fish stand in 1951.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Flower Ladies -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-04_Flower_Ladies.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.6 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/flower ladies.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Fowler's -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-05_Fowlers_Food_Store.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Fowlers Food Store _ parking lot.png"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Blues On Franklin -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-06_Blues_On_Franklin.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/gas station-blues.png"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Intimate Bookshop -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-07_Intimate_Bookshop.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Intimate Bookshop .JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- IP3 -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-08_IPS.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.6 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Ip3 - Instagram Jan 28, 2016.jpg"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Julians -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-09_Julians.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Julian_s _ Carolina Coffee Shop 1977.png"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Mama Dip's -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-10_Mama_Dips.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/original mama dips 1983 DTH 9-1-1983.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Pepper's -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-11_Peppers_Pizza.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="1 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Peppers.png"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Rathskeller -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-12_Rathskeller.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.4 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Rathskeller.png"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- School Kids -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-13_SchoolKids_Records.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/original school kids.jpg"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Shrunken Head -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-14_Shrunken_Head.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Shrunken Head old.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Spankys -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-15_Spankys_411_West.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Spanky_s and The Hub.png"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Suttons -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-16_Suttons.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Suttons 1993 DTH.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Time Out -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-17_Time_Out.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Hectors.png"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- TOPO -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-18_Top_Of_The_Hill.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/University Service Station (later the Happy Store).JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Town Hall -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-19_Town_Hall.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Pickwick theatre-later Franklin Centre 1923.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Varsity Theatre -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-20_Varsity_Theatre.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.4 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Old varsity.JPG"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>

        <!-- Ye Olde Waffle Shop -->
        <a-marker 
        type='pattern' 
        url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/patts/second-set/pattern-21_Ye_Olde_Waffle_Shop.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        smooth="true"
        >
          <a-entity
          class="clickable"
          gesture-handler
          position="0 1.5 0"
          scale="0.8 0.8 0.8"
          rotation="90 180 0"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/erevis/assets/models/frame/scene.gltf"
          >
            <a-image src="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/carolina-ar-vr/FranklinARGallery/micah-testing/assets/images/second-set/Old ye olde shot.png"
            width="1.7"
            rotation="180 0 180"
            >
            </a-image> 
          </a-entity>
        </a-marker>


        <!-- add a simple camera -->
        <a-entity camera></a-entity>
      </a-scene>
    `;

    //initialize HTML content on page

    function initialize() {

      let main = document.getElementById("main");
      main.innerHTML = markerCode;
    }

    //this function enables toggling of AR modes by button press

    function toggleMode() {

      let main = document.getElementById("main");

          if(main.classList.contains('default')){
            main.classList.remove('default')
            main.innerHTML = locationCode;
          }else{
            main.classList.add('default')
            main.innerHTML = markerCode;
          }

    };

    //this sends users to a static web page with project/team details

    function redirect() {
      window.location.href = "https://artonfranklin.netlify.app/";
    }

    //end micah's page content code --------------------------------------------------------------------------------------------------------

    //begin lesli's gesture handling code --------------------------------------------------------------------------------------------------

      // //The js i customized from https://aframe.io/docs/0.5.0/components/cursor.html
  // AFRAME.registerComponent('cursor-listener', {
  //     init: function () {
  //       var SHAP = ['box', 'sphere', 'cylinder'];
  //       this.el.addEventListener('click', function (evt) {
  //         var randomIndex = Math.floor(Math.random() * SHAP.length);
  //         this.setAttribute('geometry', 'primitive', SHAP[randomIndex]);
  //         console.log('I was clicked at: ', evt.detail.intersection.point);
  //       });
  //     }
  //   });


  //   AFRAME.registerComponent('cursor-listener-2', {
  //     init: function () {
  //       var COLORS = ['red', 'yellow', 'green'];
  //       this.el.addEventListener('click', function (evt) {
  //         var randomIndex = Math.floor(Math.random() * COLORS.length);
  //         this.setAttribute('material', 'color', COLORS[randomIndex]);
  //         console.log('I was clicked at: ', evt.detail.intersection.point);
  //       });
  //     }
  //   });

    //Starting here, this js is not my code its from https://github.com/fcor/arjs-gestures
  AFRAME.registerComponent("gesture-detector", {
  schema: {
    element: { default: "" }
  },

  init: function() {
    this.targetElement =
      this.data.element && document.querySelector(this.data.element);

    if (!this.targetElement) {
      this.targetElement = this.el;
    }

    this.internalState = {
      previousState: null
    };

    this.emitGestureEvent = this.emitGestureEvent.bind(this);

    this.targetElement.addEventListener("touchstart", this.emitGestureEvent);

    this.targetElement.addEventListener("touchend", this.emitGestureEvent);

    this.targetElement.addEventListener("touchmove", this.emitGestureEvent);
  },

  remove: function() {
    this.targetElement.removeEventListener("touchstart", this.emitGestureEvent);

    this.targetElement.removeEventListener("touchend", this.emitGestureEvent);

    this.targetElement.removeEventListener("touchmove", this.emitGestureEvent);
  },

  emitGestureEvent(event) {
    const currentState = this.getTouchState(event);

    const previousState = this.internalState.previousState;

    const gestureContinues =
      previousState &&
      currentState &&
      currentState.touchCount == previousState.touchCount;

    const gestureEnded = previousState && !gestureContinues;

    const gestureStarted = currentState && !gestureContinues;

    if (gestureEnded) {
      const eventName =
        this.getEventPrefix(previousState.touchCount) + "fingerend";

      this.el.emit(eventName, previousState);

      this.internalState.previousState = null;
    }

    if (gestureStarted) {
      currentState.startTime = performance.now();

      currentState.startPosition = currentState.position;

      currentState.startSpread = currentState.spread;

      const eventName =
        this.getEventPrefix(currentState.touchCount) + "fingerstart";

      this.el.emit(eventName, currentState);

      this.internalState.previousState = currentState;
    }

    if (gestureContinues) {
      const eventDetail = {
        positionChange: {
          x: currentState.position.x - previousState.position.x,

          y: currentState.position.y - previousState.position.y
        }
      };

      if (currentState.spread) {
        eventDetail.spreadChange = currentState.spread - previousState.spread;
      }

      // Update state with new data

      Object.assign(previousState, currentState);

      // Add state data to event detail

      Object.assign(eventDetail, previousState);

      const eventName =
        this.getEventPrefix(currentState.touchCount) + "fingermove";

      this.el.emit(eventName, eventDetail);
    }
  },

  getTouchState: function(event) {
    if (event.touches.length === 0) {
      return null;
    }

    // Convert event.touches to an array so we can use reduce

    const touchList = [];

    for (let i = 0; i < event.touches.length; i++) {
      touchList.push(event.touches[i]);
    }

    const touchState = {
      touchCount: touchList.length
    };

    // Calculate center of all current touches

    const centerPositionRawX =
      touchList.reduce((sum, touch) => sum + touch.clientX, 0) /
      touchList.length;

    const centerPositionRawY =
      touchList.reduce((sum, touch) => sum + touch.clientY, 0) /
      touchList.length;

    touchState.positionRaw = { x: centerPositionRawX, y: centerPositionRawY };

    // Scale touch position and spread by average of window dimensions

    const screenScale = 2 / (window.innerWidth + window.innerHeight);

    touchState.position = {
      x: centerPositionRawX * screenScale,
      y: centerPositionRawY * screenScale
    };

    // Calculate average spread of touches from the center point

    if (touchList.length >= 2) {
      const spread =
        touchList.reduce((sum, touch) => {
          return (
            sum +
            Math.sqrt(
              Math.pow(centerPositionRawX - touch.clientX, 2) +
                Math.pow(centerPositionRawY - touch.clientY, 2)
            )
          );
        }, 0) / touchList.length;

      touchState.spread = spread * screenScale;
    }

    return touchState;
  },

  getEventPrefix(touchCount) {
    const numberNames = ["one", "two", "three", "many"];

    return numberNames[Math.min(touchCount, 4) - 1];
  }
});
  AFRAME.registerComponent("gesture-handler", {
  schema: {
    enabled: { default: true },
    rotationFactor: { default: 5 },
    minScale: { default: 0.3 },
    maxScale: { default: 8 },
  },

  init: function () {
    this.handleScale = this.handleScale.bind(this);
    this.handleRotation = this.handleRotation.bind(this);

    this.isVisible = false;
    this.initialScale = this.el.object3D.scale.clone();
    this.scaleFactor = 1;

    this.el.sceneEl.addEventListener("markerFound", (e) => {
      this.isVisible = true;
    });

    this.el.sceneEl.addEventListener("markerLost", (e) => {
      this.isVisible = false;
    });
  },

  update: function () {
    if (this.data.enabled) {
      this.el.sceneEl.addEventListener("onefingermove", this.handleRotation);
      this.el.sceneEl.addEventListener("twofingermove", this.handleScale);
    } else {
      this.el.sceneEl.removeEventListener("onefingermove", this.handleRotation);
      this.el.sceneEl.removeEventListener("twofingermove", this.handleScale);
    }
  },

  remove: function () {
    this.el.sceneEl.removeEventListener("onefingermove", this.handleRotation);
    this.el.sceneEl.removeEventListener("twofingermove", this.handleScale);
  },

  handleRotation: function (event) {
    if (this.isVisible) {
      this.el.object3D.rotation.y +=
        event.detail.positionChange.x * this.data.rotationFactor;
      this.el.object3D.rotation.x +=
        event.detail.positionChange.y * this.data.rotationFactor;
    }
  },

  handleScale: function (event) {
    if (this.isVisible) {
      this.scaleFactor *=
        1 + event.detail.spreadChange / event.detail.startSpread;

      this.scaleFactor = Math.min(
        Math.max(this.scaleFactor, this.data.minScale),
        this.data.maxScale
      );

      this.el.object3D.scale.x = this.scaleFactor * this.initialScale.x;
      this.el.object3D.scale.y = this.scaleFactor * this.initialScale.y;
      this.el.object3D.scale.z = this.scaleFactor * this.initialScale.z;
    }
  },
});
//end of js from https://github.com/fcor/arjs-gestures


  </script>
  <style>

    .buttons {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 10em;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
      
    }

    .my-button {
      opacity: 0.7;
      font-size: 18px;
      padding: 0.55em;
      border-radius: 4px;
      border: none;
      background: rgba(255, 255, 255, 0.993);
      color: rgb(0, 0, 0);
      margin: 10px;
      -webkit-appearance: none;
    }
  
  </style>

  <body style='margin : 0px; overflow: hidden; font-family: Monospace;' onload="initialize()">

    <div id="main" class="default">
    </div>

  </body>
</html>